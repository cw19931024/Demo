<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" context="width=device-width, initial-scale=1">
    <style>
        canvas {
            margin: 0 auto;
            border: 1px solid red;
            width: 1024px;
            height: 500px;
        }

        .tac {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="tac">
        <canvas id="canvas" width="1024" height="500"></canvas>
    </div>
</body>
<script>
    var data = [
            {xAxis:'2012',value:2141},
            {xAxis:'2013',value:1499},
            {xAxis:'2014',value:3260},
            {xAxis:'2015',value:1170},
            {xAxis:'2016',value:970},
            {xAxis:'2017',value:2350}
        ]
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');
    var width = canvas.width;
    var height = canvas.height;
    var padding = 10;
    var yNumber = 5;                                                // y轴的段数
    var yLength = Math.floor((height - padding * 2) / yNumber);     // y轴每段的真实长度
    var xLength = Math.floor((width - padding * 2) / data.length);  // x轴每段的真实长度

    context.beginPath();
    Edit('moveTo',[padding + 0.5, height - padding - 20]);
    Edit('lineTo',[padding + 0.5,padding + 0.5]);
    Edit('moveTo',[padding,height-padding-20]);
    Edit('lineTo',[width-padding-0.5,height-padding-20]);
    Edit('moveTo',[padding,padding + 0.5]);
    Edit('lineTo',[width - padding - 0.5,padding + 0.5]);
    context.stroke();

    for(var i=0;i<data.length;i++){
        var xAxis = data[i].xAxis;
        var xlen = xLength * (i + 1);
        context.moveTo(padding + xlen, height-30);
        context.lineTo(padding + xlen, height-20);
        context.stroke();                                       // 画轴线上的刻度
        context.fillText(xAxis, padding + xlen - xLength+1, height - padding-5);   // 填充文字
    }

    function Edit(type,data){
       if(data.length==2){
           return context[type](data[0],data[1])
       }else{
           return context[type](data[0],data[1],data[2],data[3],data[4],data[5])
       }
    }


</script>

</html>